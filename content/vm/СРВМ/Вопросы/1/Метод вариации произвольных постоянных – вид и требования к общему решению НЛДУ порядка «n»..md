Метод вариации произвольных постоянных — это метод, используемый для нахождения частного решения линейного неоднородного дифференциального уравнения. Этот метод расширяет метод поиска общего решения однородного уравнения путем замены постоянных интегрирования на функции от независимой переменной.

### Вид общего решения неоднородного линейного дифференциального уравнения (НЛДУ) порядка $n$
Линейное неоднородное дифференциальное уравнение порядка $n$ имеет вид:
$$ y^{(n)} + a_{n-1}(x)y^{(n-1)} + \ldots + a_1(x)y' + a_0(x)y = f(x) $$

Общее решение неоднородного уравнения состоит из суммы:
$$ y(x) = y_h(x) + y_p(x) $$
где:
- $y_h(x)$ — общее решение соответствующего однородного уравнения $y^{(n)} + a_{n-1}(x)y^{(n-1)} + \ldots + a_1(x)y' + a_0(x)y = 0$;
- $y_p(x)$ — частное решение неоднородного уравнения.

### Требования к общему решению НЛДУ порядка $n$
1. **Общее решение однородного уравнения**:
   Для однородного уравнения $y_h(x)$ определяется общим решением:
   $$ y_h(x) = C_1 y_1(x) + C_2 y_2(x) + \ldots + C_n y_n(x) $$
   где $y_1(x), y_2(x), \ldots, y_n(x)$ — линейно независимые решения однородного уравнения, а $C_1, C_2, \ldots, C_n$ — произвольные постоянные.

2. **Метод вариации произвольных постоянных**:
   Метод вариации произвольных постоянных заключается в замене постоянных $C_i$ на функции $u_i(x)$:
   $$ y_p(x) = u_1(x)y_1(x) + u_2(x)y_2(x) + \ldots + u_n(x)y_n(x) $$

Для нахождения функций $u_i(x)$ проделываются следующие шаги:
1. Подставляем $y_p(x)$ в исходное неоднородное уравнение.
2. Для упрощения получения уравнений для $u_i(x)$ вводим условия:
   $$
   \begin{cases}
   u_1'(x)y_1(x) + u_2'(x)y_2(x) + \ldots + u_n'(x)y_n(x) = 0 \\
   u_1'(x)y_1'(x) + u_2'(x)y_2'(x) + \ldots + u_n'(x)y_n'(x) = 0 \\
   \vdots \\
   u_1'(x)y_1^{(n-2)}(x) + u_2'(x)y_2^{(n-2)}(x) + \ldots + u_n'(x)y_n^{(n-2)}(x) = 0
   \end{cases}
   $$

3. Получаем систему уравнений:
   $$
   \begin{cases}
   u_1'(x)y_1^{(n-1)}(x) + u_2'(x)y_2^{(n-1)}(x) + \ldots + u_n'(x)y_n^{(n-1)}(x) = f(x) \\
   u_1'(x)y_1(x) + u_2'(x)y_2(x) + \ldots + u_n'(x)y_n(x) = 0 \\
   \vdots \\
   u_1'(x)y_1^{(n-2)}(x) + u_2'(x)y_2^{(n-2)}(x) + \ldots + u_n'(x)y_n^{(n-2)}(x) = 0
   \end{cases}
   $$

4. Решаем эту систему для $u_i'(x)$ и затем находим $u_i(x)$ путем интегрирования.

Пример:
Рассмотрим уравнение второго порядка:
$$ y'' - y = e^x $$

1. Общее решение однородного уравнения $y'' - y = 0$:
   $$ y_h(x) = C_1 e^x + C_2 e^{-x} $$

2. Частное решение методом вариации произвольных постоянных:
   $$ y_p(x) = u_1(x)e^x + u_2(x)e^{-x} $$

3. Система уравнений для $u_1(x)$ и $u_2(x)$:
   $$
   \begin{cases}
   u_1'(x)e^x + u_2'(x)e^{-x} = 0 \\
   u_1'(x)e^x - u_2'(x)e^{-x} = e^x
   \end{cases}
   $$

Решение системы:
   $$
   u_1'(x) = \frac{e^x}{2}, \quad u_2'(x) = -\frac{e^x}{2}
   $$
   $$
   u_1(x) = \frac{e^x}{2}, \quad u_2(x) = -\frac{e^x}{2}
   $$

4. Частное решение:
   $$
   y_p(x) = \frac{e^{2x}}{2} - \frac{1}{2}
   $$

5. Общее решение:
   $$
   y(x) = y_h(x) + y_p(x) = C_1 e^x + C_2 e^{-x} + \frac{e^{2x}}{2} - \frac{1}{2}
   $$

Метод вариации произвольных постоянных является мощным инструментом для решения линейных неоднородных дифференциальных уравнений, позволяя находить частные решения для широкого класса задач.