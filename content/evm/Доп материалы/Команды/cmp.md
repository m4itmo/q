## Сравнение в Ассемблере: Команда CMP

### Введение

Команда CMP (сокращение от "Compare" — сравнить) — это одна из базовых инструкций в языке ассемблера, используемая для сравнения двух операндов. Она играет ключевую роль в условных переходах и циклах, позволяя программе принимать решения на основе сравнения значений.

### Синтаксис

Синтаксис команды CMP в ассемблере выглядит следующим образом:

```
CMP операнд1, операнд2
```

Где:
- **операнд1** — это первый операнд, который может быть регистром или памятью.
- **операнд2** — это второй операнд, который также может быть регистром, памятью или непосредственным значением.

### Как работает CMP

Команда CMP вычитает значение второго операнда (операнд2) из значения первого операнда (операнд1), но не сохраняет результат вычитания. Вместо этого, она обновляет флаги в регистре флагов, такие как Zero Flag (ZF), Sign Flag (SF), Carry Flag (CF) и Overflow Flag (OF). Эти флаги затем используются для определения дальнейшего выполнения программы.

### Пример работы CMP

Рассмотрим простой пример на языке ассемблера x86:

```asm
mov ax, 5     ; загрузить 5 в регистр AX
mov bx, 3     ; загрузить 3 в регистр BX
cmp ax, bx    ; сравнить AX с BX
```

После выполнения CMP, регистр AX по-прежнему содержит значение 5, а регистр BX — значение 3. Однако, флаги будут обновлены следующим образом:
- **ZF (Zero Flag)**: сброшен (0), так как результат вычитания 5 - 3 не равен нулю.
- **SF (Sign Flag)**: сброшен (0), так как результат вычитания положительный.
- **CF (Carry Flag)**: сброшен (0), так как не было заимствования в старший бит.
- **OF (Overflow Flag)**: сброшен (0), так как не произошло переполнения.

### Использование CMP с условными переходами

Команда CMP часто используется вместе с условными переходами, такими как JE (Jump if Equal), JNE (Jump if Not Equal), JL (Jump if Less), JLE (Jump if Less or Equal), JG (Jump if Greater) и JGE (Jump if Greater or Equal).

Пример:

```asm
mov ax, 5
mov bx, 5
cmp ax, bx
je equal    ; перейти к метке 'equal', если AX равно BX

mov cx, 1
jmp end

equal:
mov cx, 0

end:
; дальнейший код
```

В этом примере, если значения регистров AX и BX равны, программа перейдет к метке `equal`, иначе выполнение продолжится без перехода.

### Заключение

Команда CMP является важным инструментом в арсенале ассемблера, позволяя программам выполнять условные операции на основе сравнения значений. Понимание работы CMP и ее взаимодействия с регистрами флагов критически важно для написания эффективного и корректного кода на ассемблере.

