---
title: Базовые команды условного и безусловного перехода в arm ассемблере
---
# Введение

Команды `ble`, `bge`, `blt`, `bgt`, `beq`, `bl`, и `bg` являются важными условными ветвлениями в языке ассемблера для архитектуры ARM. Эти команды управляют потоком выполнения программы на основе результатов сравнений значений в регистрах, что позволяет реализовать конструкции, подобные условным операторам и циклам в высокоуровневых языках программирования.
[[arm - branch operators|Все операторы ветвления]]

# Основная часть

## Синтаксис команд ветвления

Команды условного перехода используют результаты предыдущих команд сравнения, таких как `cmp` (compare) или `subs` (subtract and set flags), для определения, выполняется ли переход. Общий синтаксис команд условного перехода:

```assembly
<команда> <метка>
```

### Описание команд

1. **`ble` (Branch if Less than or Equal):**

Переход, если первое значение меньше или равно второму.

```assembly
cmp x0, x1
ble target_label
```

Если `x0 <= x1`, выполняется переход к метке `target_label`.

2. **`bge` (Branch if Greater than or Equal):**

Переход, если первое значение больше или равно второму.

```assembly
cmp x0, x1
bge target_label
```

Если `x0 >= x1`, выполняется переход к метке `target_label`.

3. **`blt` (Branch if Less than):**

Переход, если первое значение меньше второго.

```assembly
cmp x0, x1
blt target_label
```

Если `x0 < x1`, выполняется переход к метке `target_label`.

4. **`bgt` (Branch if Greater than):**

Переход, если первое значение больше второго.

```assembly
cmp x0, x1
bgt target_label
```

Если `x0 > x1`, выполняется переход к метке `target_label`.

5. **`beq` (Branch if Equal):**

Переход, если значения равны.

```assembly
cmp x0, x1
beq target_label
```

Если `x0 == x1`, выполняется переход к метке `target_label`.

6. **`bl` (Branch with Link):**

Переход к подпрограмме с сохранением адреса возврата в регистре `lr`.

```assembly
bl subroutine_label
```

Переход к метке `subroutine_label`, сохранение текущего адреса в регистре `lr` для возврата.

7. **`bg` (Branch to a General address):**

Общий переход к метке или адресу, который можно вычислить заранее.

```assembly
bg general_label
```

### Примеры использования

#### Пример 1: Условное ветвление на основе сравнения

```assembly
cmp x0, x1
bgt greater_than_label
ble less_or_equal_label

greater_than_label:
    // код для случая x0 > x1
    b end_label

less_or_equal_label:
    // код для случая x0 <= x1

end_label:
```

В этом примере программа проверяет, больше ли значение в `x0` значения в `x1`, и в зависимости от этого выполняет разные части кода.

#### Пример 2: Цикл с условным ветвлением

```assembly
mov x2, #0           // Инициализация счетчика
loop_label:
    cmp x2, #10
    bge end_loop     // Выход из цикла, если x2 >= 10
    // тело цикла
    add x2, x2, #1   // Инкремент счетчика
    b loop_label     // Переход к началу цикла
end_loop:
```

Этот пример демонстрирует реализацию цикла, который выполняется 10 раз.

#### Пример 3: Вызов подпрограммы

```assembly
bl subroutine_label
// основной код
b continue_label

subroutine_label:
    // код подпрограммы
    bx lr             // Возврат в основной код

continue_label:
```

В данном примере вызывается подпрограмма с сохранением адреса возврата, и после выполнения подпрограммы происходит возврат в основной код.

# Вывод

Команды условного ветвления, такие как `ble`, `bge`, `blt`, `bgt`, `beq`, `bl`, и `bg`, играют ключевую роль в управлении потоком выполнения программ на ассемблере. Эти команды позволяют реализовывать сложные логические конструкции и циклы, делая программы гибкими и эффективными. Понимание и правильное использование этих команд является основополагающим для написания качественного ассемблерного кода.