---
title: Команда sub в arm ассемблере
---
# Введение

Команда `sub` является одной из ключевых команд в языке ассемблера, используемая для выполнения операции вычитания. Она позволяет вычитать одно значение из другого, что является базовой операцией в арифметике и программировании. В этой статье мы рассмотрим команду `sub`, её синтаксис, примеры использования и типичные сценарии применения.

# Основная часть

## Синтаксис команды `sub`

Команда `sub` используется для вычитания значений и записи результата в регистр назначения. Общий синтаксис команды `sub` следующий:

```assembly
sub destination, source1, source2
```

Где:
- `destination` — регистр, в который будет записан результат вычитания.
- `source1` — регистр или значение, из которого вычитают.
- `source2` — регистр или значение, которое вычитают.

### Пример вычитания с регистрами

Рассмотрим простой пример на архитектуре ARM:

```assembly
sub x0, x1, x2
```

Этот пример вычитает значение регистра `x2` из значения регистра `x1` и сохраняет результат в регистре `x0`. Формально, это означает:
\[ x0 = x1 - x2 \]

### Пример вычитания с непосредственным значением

Команда `sub` также может вычитать непосредственное значение из регистра:

```assembly
sub x0, x1, #5
```

Этот пример вычитает значение `5` из регистра `x1` и сохраняет результат в регистре `x0`.

### Использование с командами условия

Команда `sub` часто используется в сочетании с командами условия для выполнения циклов и ветвлений. Рассмотрим пример:

```assembly
sub x0, x0, #1
cbz x0, end_loop
```

В этом примере значение регистра `x0` уменьшается на 1. Если после этого значение регистра `x0` становится нулевым, выполнение переходит к метке `end_loop`.

### Примеры использования команды `sub`

#### Пример 1: Основное вычитание

```assembly
sub x3, x4, x5
```

Этот пример вычитает значение регистра `x5` из значения регистра `x4` и сохраняет результат в регистре `x3`.

#### Пример 2: Вычитание с непосредственным значением

```assembly
sub x6, x7, #10
```

Этот пример вычитает значение `10` из регистра `x7` и сохраняет результат в регистре `x6`.

#### Пример 3: Цикл с вычитанием

```assembly
mov x1, #10       // Инициализация x1 значением 10
loop:
sub x1, x1, #1    // Уменьшение x1 на 1
cbnz x1, loop     // Переход к метке loop, если x1 не равно нулю
```

В этом примере значение регистра `x1` уменьшается на 1 в каждом цикле, пока не станет равным нулю. Это пример простого цикла с использованием команды `sub`.

#### Пример 4: Условный переход на основе вычитания

```assembly
sub x0, x0, #1
cbz x0, exit
```

Этот пример уменьшает значение регистра `x0` на 1 и проверяет, равно ли оно нулю. Если равно, происходит переход к метке `exit`.

# Вывод

Команда `sub` является важным инструментом в языке ассемблера, обеспечивая выполнение операции вычитания. Она используется для различных арифметических операций, управления циклами и ветвлений. Понимание и умение эффективно использовать команду `sub` является важным аспектом написания эффективного ассемблерного кода. Команда `sub` позволяет не только выполнять базовые арифметические операции, но и контролировать поток выполнения программы, что делает её незаменимой в программировании на ассемблере.